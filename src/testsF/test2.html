<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../output.css" rel="stylesheet">
    <style>
        #has-submenu:hover #submenu {
            display: block;
        }

        #has-submenu {
            position: relative;
        }
        .green {
            color: green;
        }

        .red {
            color: red;
        }
    </style>
    <title>Linguaboost</title>
</head>
<body">
    <header>
        <nav class="bg-[#222831] p-2 text-[#F9FAF9]">
            <ul class="list-none flex justify-center gap-8 menu">
                <li class="hover:text-blue-500"><a href="../index.html">Inicio</a></li>
                <li class="hover:text-blue-500"><a href="../recursos.html">Recursos</a></li>
                <li class="hover:text-blue-500"><a href="../tests.html">Tests</a></li>
                <li id="has-submenu">
                    <a class="hover:text-blue-500" href="">Pasatiempos</a>
                    <ul id="submenu" class="hidden absolute bg-[#393E46] w-max px-2 py-1">
                        <li><a class="hover:text-[17px] hover:text-blue-500" href="../pasatiempos/sopa.html">Sopa de letras</a></li>
                        <li><a class="hover:text-[17px] hover:text-blue-500" href="../pasatiempos/ahorcado.html">Ahorcado</a></li>
                    </ul>
                </li>
                <li class="hover:text-blue-500"><a href="../agenda/agenda.html">Agenda</a></li>
                <li class="hover:text-blue-500"><a href="../libros/libro.html">Libros</a></li>
            </ul>
        </nav>
    </header>

    <section class="m-4 p-6 bg-gray-100 rounded-xl grid grid-cols-1 md:grid-cols-2 gap-6 shadow-lg">
        <div class="bg-white px-6 py-4 rounded-xl shadow-md">
            <h1 class="my-4 font-bold text-[22px] text-gray-800 text-center bg-gray-200 p-2 rounded-xl">Cuestionario ortográfico</h1>

            <form class="px-2 pb-4" id="quizForm">
                <ol class="list-inside">
                    <li class="pb-2">
                        <h3 class="font-bold">1. ¿Cuál es la forma correcta de escribir la palabra para indicar que alguien hace falta?</h3>
                        <label>
                            <input type="radio" name="q1" value="a" required> a) "Hechar de menos"
                        </label><br>
                        <label>
                            <input type="radio" name="q1" value="b"> b) "Echar de menos"
                        </label><br>
                        <label>
                            <input type="radio" name="q1" value="c"> c) "Echar de menoz"
                        </label><br>
                        <label>
                            <input type="radio" name="q1" value="d"> d) "Hechar de menoz"
                        </label><br>
                    </li>
                    <li class="pb-2">
                        <h3 class="font-bold">2. ¿Qué palabra no debe llevar tilde según las reglas ortográficas?</h3>
                        <label>
                            <input type="radio" name="q2" value="a" required> a) "Qué"
                        </label><br>
                        <label>
                            <input type="radio" name="q2" value="b"> b) "Cuál"
                        </label><br>
                        <label>
                            <input type="radio" name="q2" value="c"> c) "Cual"
                        </label><br>
                        <label>
                            <input type="radio" name="q2" value="d"> d) "Qué?"
                        </label><br>
                    </li>
                    <li class="pb-2">
                        <h3 class="font-bold">3. ¿Qué error se comete al escribir "expectacular"?</h3>
                        <label>
                            <input type="radio" name="q3" value="a" required> a) Se escribe con "x" en lugar de "es"
                        </label><br>
                        <label>
                            <input type="radio" name="q3" value="b"> b) Se escribe con "b" en lugar de "v"
                        </label><br>
                        <label>
                            <input type="radio" name="q3" value="c"> c) Se escribe con "ct" en lugar de "ct"
                        </label><br>
                        <label>
                            <input type="radio" name="q3" value="d"> d) Se escribe con "c" en lugar de "s"
                        </label><br>
                    </li>
                    <li class="pb-2">
                        <h3 class="font-bold">4. ¿Qué se debe recordar al escribir nombres propios?</h3>
                        <label>
                            <input type="radio" name="q4" value="a" required> a) Siempre llevar mayúscula
                        </label><br>
                        <label>
                            <input type="radio" name="q4" value="b"> b) Siempre llevar tilde
                        </label><br>
                        <label>
                            <input type="radio" name="q4" value="c"> c) Siempre llevar diéresis
                        </label><br>
                        <label>
                            <input type="radio" name="q4" value="d"> d) Siempre llevar guion
                        </label><br>
                    </li>
                    <li>
                        <h3 class="font-bold">5. ¿Cuál es la diferencia entre "había" y "habían"?</h3>
                        <label>
                            <input type="radio" name="q5" value="a" required> a) "Había" se usa como verbo auxiliar, "habían" como verbo principal.
                        </label><br>
                        <label>
                            <input type="radio" name="q5" value="b"> b) "Había" es incorrecto, "habían" es correcto.
                        </label><br>
                        <label>
                            <input type="radio" name="q5" value="c"> c) "Había" siempre va seguido de sustantivo, "habían" de adjetivo.
                        </label><br>
                        <label>
                            <input type="radio" name="q5" value="d"> d) "Había" es singular, "habían" es plural.
                        </label><br>
                    </li>
                </ol>
                <div class="flex justify-center mt-6">
                    <button class="bg-blue-600 text-white rounded-md px-4 py-2 hover:bg-blue-700 transition duration-300" type="submit">Enviar respuestas</button>
                </div>
            </form>
        </div>

        <div class="bg-white p-6 rounded-xl shadow-md">
            <h1 class="font-bold text-[22px] text-gray-800">Resultado</h1>
            <div class="rounded-xl mt-4 p-4 bg-gray-50 text-gray-700" id="result"></div>
            <button id="mostrarOcultar" class="px-4 py-2 mt-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition duration-300 hidden">Mostrar respuestas</button>

            <div id="correctAnswers" class="mt-4 hidden">
                <h2 class="text-xl font-semibold">Respuestas correctas:</h2>
                <ol>
                    <li><span class="font-bold">1.</span> La respuesta correcta es el inciso b, "Echar de menos". La forma correcta es "echar de menos". "Hechar de menos" es incorrecto porque no respeta la regla de usar "h" antes de "e" en este verbo.</li>
                    <li><span class="font-bold">2.</span> La respuesta correcta es el inciso c, "Cual". "Cual" es un pronombre relativo o interrogativo que no lleva tilde en ningún caso, mientras que "qué" y "cuál" sí llevan tilde dependiendo del contexto.</li>
                    <li><span class="font-bold">3.</span> La respuesta correcta es el inciso b, "Se escribe con 'b' en lugar de 'v'". La palabra correcta es "espectacular", con "s" y "c". "Expectacular" es un error común por confusión entre "b" y "v".</li>
                    <li><span class="font-bold">4.</span> La respuesta correcta es el inciso a, "Siempre llevar mayúscula". Los nombres propios siempre deben escribirse con la primera letra en mayúscula, según las reglas ortográficas básicas.</li>
                    <li><span class="font-bold">5.</span> La respuesta correcta es el inciso d, "Había es singular, 'habían' es plural". "Había" es la forma singular de "haber" (verbo impersonal), mientras que "habían" es la forma plural.</li>
                </ol>
            </div>
            <div id="tryAgain" class="mt-4 hidden">
                <button id="intentarDeNuevo" class="px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition duration-300">Intentar de nuevo</button>
            </div>
        </div>
    </section>


 <script>
       document.getElementById('quizForm').addEventListener('submit', function(event) {
        event.preventDefault();
        
        const resultDiv = document.getElementById('result');
        const mostrarOcultarButton = document.getElementById('mostrarOcultar');
        const tryAgainDiv = document.getElementById('tryAgain');
        const quizForm = document.getElementById('quizForm');
        
        // Calcular la puntuación
        let score = 0;
        const correctAnswers =  ["b","c","b","a","d"];

        const userAnswers = [
            quizForm.querySelector('input[name="q1"]:checked').value,
            quizForm.querySelector('input[name="q2"]:checked').value,
            quizForm.querySelector('input[name="q3"]:checked').value,
            quizForm.querySelector('input[name="q4"]:checked').value,
            quizForm.querySelector('input[name="q5"]:checked').value
        ];

        const correctAnswersDiv = document.getElementById('correctAnswers');
        const ol = correctAnswersDiv.querySelector('ol');

        // Iterar sobre las respuestas y comparar con las respuestas correctas
        for (let i = 0; i < correctAnswers.length; i++) {
            const answerItem = ol.children[i];
            const answerNumber = answerItem.querySelector('span').textContent.trim();

            if (userAnswers[i] === correctAnswers[i]) {
                answerItem.classList.add('green'); // Respuesta correcta
                score++;
            } else {
                answerItem.classList.add('red'); // Respuesta incorrecta
            }
        }

        // Deshabilitar el formulario para evitar envíos adicionales
        quizForm.querySelectorAll('input').forEach(input => {
            input.disabled = true;
        });
        quizForm.querySelector('button[type="submit"]').disabled = true;
        
        // Mostrar mensaje de envío exitoso y mostrar el botón para mostrar respuestas
        resultDiv.innerHTML = `Tus respuestas han sido enviadas. Tu puntuación es ${score} de ${correctAnswers.length}.`;
        mostrarOcultarButton.classList.remove('hidden');
        tryAgainDiv.classList.remove('hidden');
        
        // Scroll hacia la sección de resultados
        resultDiv.scrollIntoView({ behavior: 'smooth' });
    });

    // Botón para mostrar/ocultar respuestas correctas
    document.getElementById('mostrarOcultar').addEventListener('click', function() {
        const correctAnswersDiv = document.getElementById('correctAnswers');
        correctAnswersDiv.classList.toggle('hidden');
    });

    // Botón para intentar de nuevo (reiniciar formulario)
    document.getElementById('intentarDeNuevo').addEventListener('click', function() {
        const quizForm = document.getElementById('quizForm');
        
        // Habilitar el formulario y restablecer los campos
        quizForm.reset();
        quizForm.querySelectorAll('input').forEach(input => {
            input.disabled = false;
        });
        quizForm.querySelector('button[type="submit"]').disabled = false;
        
        // Ocultar resultados y botones
        const resultDiv = document.getElementById('result');
        const correctAnswersDiv = document.getElementById('correctAnswers');
        const mostrarOcultarButton = document.getElementById('mostrarOcultar');
        const tryAgainDiv = document.getElementById('tryAgain');
        
        resultDiv.innerHTML = '';
        correctAnswersDiv.classList.add('hidden');
        mostrarOcultarButton.classList.add('hidden');
        tryAgainDiv.classList.add('hidden');
    });
    </script>

</body>